var j=Object.defineProperty;var S=(e,t,c)=>t in e?j(e,t,{enumerable:!0,configurable:!0,writable:!0,value:c}):e[t]=c;var i=(e,t,c)=>S(e,typeof t!="symbol"?t+"":t,c);import{r as o,j as s,d as m,e as C}from"./index-RaPwYqHn.js";function E({options:e,onChange:t}){const[c,l]=o.useState(e[0]);return e.map(n=>s.jsxs("label",{children:[s.jsx("input",{type:"radio",value:n,checked:c===n,onChange:u=>{l(u.target.value),t(u.target.value)}}),n]},n))}const d=e=>{const t=o.useRef(e),[c,l]=o.useState(e);return t.current=c,{getData:()=>t.current,setData:l}};function g(){const{getData:e,setData:t}=d({selected:6}),[c,l]=o.useState(e().selected);return s.jsxs("div",{children:[s.jsx("h3",{children:"Sample V0 (No fix, show the symptom)"}),s.jsxs("div",{children:["Current selection (by state): ",e().selected]}),s.jsxs("div",{children:["Current selection (by action): ",c]}),s.jsx("button",{onClick:()=>{Promise.resolve().then(()=>{t({selected:0}),l(e().selected)})},children:"Select None"})]})}const v=function(e){let t=o.useRef([]);const c=()=>t.current;return{schedulePostDispatchEvents:o.useCallback(({execute:n,context:u={}})=>{let r=c();const a={schedulerId:Math.floor(Math.random()*1e5),execute:n,type:e,context:u,unschedule:function(){let h=r.findIndex(p=>p.schedulerId===this.schedulerId);h!==-1&&r.splice(h,1)}};return r.push(a),t.current=r,a},[e]),queue:c}},R=(e,t)=>{const c=o.useCallback(l=>{const n=e();if(n.length===0)return;n.filter(r=>r.type===l).map(r=>(r.execute(),console.log(`useProcessJobQueue: job ${r.schedulerId} executed`),r)).forEach(r=>{r.unschedule.bind(r)()})},[e]);o.useEffect(function(){console.log(`useProcessJobQueue: Executing jobs for ${t}`),c(t)})};function D(){const{getData:e,setData:t}=d({selected:6}),[c,l]=o.useState(e().selected),{schedulePostDispatchEvents:n,queue:u}=v("test");return o.useEffect(()=>{Promise.resolve().then(()=>{e().selected===0&&n({execute:()=>{console.log("Job (schedule in use effect promise) executed")}})})},[e().selected]),R(u,"test"),s.jsxs("div",{children:[s.jsx("h3",{children:"Sample V1 (by DeferJobQueue Polyfill)"}),s.jsxs("div",{children:["Current selection (by state): ",e().selected]}),s.jsxs("div",{children:["Current selection (by action): ",c]}),s.jsx("button",{onClick:()=>{Promise.resolve().then(()=>{t({selected:0}),n({execute:()=>{l(e().selected)}})}).then(()=>fetch("/")).then(()=>{n({execute:()=>{console.log("Job (schedule in action promise) executed")}})}),setTimeout(()=>n({execute:()=>{console.log("Job (schedule in action setTimeout) executed")}}),100)},children:"Select None"})]})}const _=()=>{const e=o.useRef([]),[t,c]=o.useState(0),l=o.useCallback(n=>{e.current.push(n),c(u=>u+1)},[]);return o.useEffect(()=>{if(e.current.length>0){const n=[...e.current];e.current=[],n.forEach(u=>{try{u.execute()}catch(r){console.error("useDeferredEffect: Error executing job:",r)}})}},[t]),{defer:l}};function y(){const{getData:e,setData:t}=d({selected:6}),[c,l]=o.useState(e().selected),{defer:n}=_();return o.useEffect(()=>{Promise.resolve().then(()=>{e().selected===0&&n({execute:()=>{console.log("Job (schedule in use effect promise) executed")}})})},[e().selected]),s.jsxs("div",{children:[s.jsx("h3",{children:"Sample V2 (by fixed DeferJobQueue Polyfill)"}),s.jsxs("div",{children:["Current selection (by state): ",e().selected]}),s.jsxs("div",{children:["Current selection (by action): ",c]}),s.jsx("button",{onClick:()=>{Promise.resolve().then(()=>{t({selected:0}),n({execute:()=>{l(e().selected)}})}).then(()=>fetch("/")).then(()=>{n({execute:()=>{console.log("Job (schedule in action promise) executed")}})}),setTimeout(()=>n({execute:()=>{console.log("Job (schedule in action setTimeout) executed")}}),100)},children:"Select None"})]})}function P(){const{getData:e,setData:t}=d({selected:6}),[c,l]=o.useState(e().selected);return o.useEffect(()=>{l(e().selected)},[e]),s.jsxs("div",{children:[s.jsx("h3",{children:"Sample V3 (by state update)"}),s.jsxs("div",{children:["Current selection (by state): ",e().selected]}),s.jsxs("div",{children:["Current selection (by action): ",c]}),s.jsx("button",{onClick:()=>{Promise.resolve().then(()=>{t({selected:0})})},children:"Select None"})]})}const V=e=>{const t=o.useRef(e),[c,l]=o.useState(e);return{getData:()=>t.current,setData:n=>{t.current=n,l(n)}}};function k(){const{getData:e,setData:t}=V({selected:6}),[c,l]=o.useState(e().selected);return s.jsxs("div",{children:[s.jsx("h3",{children:"Sample V4 (by agnostic state)"}),s.jsxs("div",{children:["Current selection (by state): ",e().selected]}),s.jsxs("div",{children:["Current selection (by action): ",c]}),s.jsx("button",{onClick:()=>{Promise.resolve().then(()=>{t({selected:0}),l(e().selected)})},children:"Select None"})]})}const x="r18-batch-sample-loader-element";function f(){const[e,t]=o.useState("V0");return s.jsxs("div",{children:[s.jsx("h1",{children:"React18 Batch Adjustment Sample"}),s.jsx(E,{options:["V0","V1","V2","V3","V4"],onChange:c=>t(c)}),e==="V0"&&s.jsx(g,{}),e==="V1"&&s.jsx(D,{}),e==="V2"&&s.jsx(y,{}),e==="V3"&&s.jsx(P,{}),e==="V4"&&s.jsx(k,{})]})}customElements.define(x,class extends HTMLElement{constructor(){super(...arguments);i(this,"_root",null);i(this,"_reactRootElem",null)}_unmountReactComponent(){this._root?(this._root.unmount(),this._root=null):m.unmountComponentAtNode(this._reactRootElem)}_mountReactComponent(t){t?m.render(o.createElement(f),this._reactRootElem):(this._root=C.createRoot(this._reactRootElem),this._root.render(o.createElement(f)))}connectedCallback(){const t=document.createElement("input");t.type="checkbox",t.checked=!1,t.addEventListener("change",()=>{this._unmountReactComponent(),this._mountReactComponent(t.checked)}),this.appendChild(t),this.appendChild(document.createTextNode("Compatible Mode"));const c=document.createElement("div");this.appendChild(c),this._reactRootElem=c,this._mountReactComponent(!1)}disconnectedCallback(){this._unmountReactComponent(),this._reactRootElem=null,this._root=null}});function T(){return o.createElement(x)}export{T as default};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUjE4QmF0Y2hTYW1wbGVQYWdlLU9PdDBFcmNVLmpzIiwic291cmNlcyI6WyIuLi8uLi9zcmMvcGFnZXMvYmF0Y2gvUmFkaW9CdXR0b25Hcm91cC50c3giLCIuLi8uLi9zcmMvcGFnZXMvYmF0Y2gvRGF0YVByb3ZpZGVyLnRzIiwiLi4vLi4vc3JjL3BhZ2VzL2JhdGNoL1NhbXBsZVYwLnRzeCIsIi4uLy4uL3NyYy9wYWdlcy9iYXRjaC9saWJzL3YxLnRzIiwiLi4vLi4vc3JjL3BhZ2VzL2JhdGNoL1NhbXBsZVYxLnRzeCIsIi4uLy4uL3NyYy9wYWdlcy9iYXRjaC9saWJzL3YyLnRzIiwiLi4vLi4vc3JjL3BhZ2VzL2JhdGNoL1NhbXBsZVYyLnRzeCIsIi4uLy4uL3NyYy9wYWdlcy9iYXRjaC9TYW1wbGVWMy50c3giLCIuLi8uLi9zcmMvcGFnZXMvYmF0Y2gvbGlicy92NC50cyIsIi4uLy4uL3NyYy9wYWdlcy9iYXRjaC9TYW1wbGVWNC50c3giLCIuLi8uLi9zcmMvcGFnZXMvUjE4QmF0Y2hTYW1wbGVQYWdlLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuXG5leHBvcnQgZnVuY3Rpb24gUmFkaW9CdXR0b25Hcm91cCh7XG4gIG9wdGlvbnMsXG4gIG9uQ2hhbmdlLFxufToge1xuICBvcHRpb25zOiBzdHJpbmdbXTtcbiAgb25DaGFuZ2U6IChvcHRpb246IHN0cmluZykgPT4gdm9pZDtcbn0pIHtcbiAgY29uc3QgW3NlbGVjdGVkLCBzZXRTZWxlY3RlZF0gPSB1c2VTdGF0ZShvcHRpb25zWzBdKTtcbiAgcmV0dXJuIG9wdGlvbnMubWFwKChvcHRpb24pID0+IChcbiAgICA8bGFiZWwga2V5PXtvcHRpb259PlxuICAgICAgPGlucHV0XG4gICAgICAgIHR5cGU9XCJyYWRpb1wiXG4gICAgICAgIHZhbHVlPXtvcHRpb259XG4gICAgICAgIGNoZWNrZWQ9e3NlbGVjdGVkID09PSBvcHRpb259XG4gICAgICAgIG9uQ2hhbmdlPXsoZXYpID0+IHtcbiAgICAgICAgICBzZXRTZWxlY3RlZChldi50YXJnZXQudmFsdWUpO1xuICAgICAgICAgIG9uQ2hhbmdlKGV2LnRhcmdldC52YWx1ZSk7XG4gICAgICAgIH19XG4gICAgICAvPlxuICAgICAge29wdGlvbn1cbiAgICA8L2xhYmVsPlxuICApKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgUmFkaW9CdXR0b25Hcm91cDtcbiIsImltcG9ydCB7IHVzZVJlZiwgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcblxuLyoqXG4gKiBTaW1wbGlmaWVkIHZlcnNpb24gb2YgRGF0YVByb3ZpZGVyIHN0YXRlXG4gKiBcbiAqIEBwYXJhbSBpbml0VmFsIGluaXRpYWwgc3RhdGVcbiAqIEByZXR1cm5zIGdldERhdGEgYW5kIHNldERhdGEgZnVuY3Rpb25zXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRGF0YVByb3ZpZGVyIHtcbiAgc2VsZWN0ZWQ6IG51bWJlcjtcbn1cblxuZXhwb3J0IGNvbnN0IHVzZURhdGFQcm92aWRlciA9IChpbml0VmFsOiBEYXRhUHJvdmlkZXIpID0+IHtcbiAgY29uc3Qgc3RhdGVSZWYgPSB1c2VSZWYoaW5pdFZhbCk7XG4gIGNvbnN0IFtzdGF0ZSwgc2V0U3RhdGVdID0gdXNlU3RhdGUoaW5pdFZhbCk7XG5cbiAgLy8gd3JvbmcgaW1wbCB0byBtaW1pYyByZWFjdCBzdGF0ZSB1cGRhdGUgc2lkZSBlZmZlY3RcbiAgc3RhdGVSZWYuY3VycmVudCA9IHN0YXRlO1xuXG4gIHJldHVybiB7XG4gICAgZ2V0RGF0YTogKCkgPT4gc3RhdGVSZWYuY3VycmVudCxcbiAgICBzZXREYXRhOiBzZXRTdGF0ZSxcbiAgfTtcbn07XG5cbmV4cG9ydCBjb25zdCB1c2VEYXRhUHJvdmlkZXJWMiA9IChpbml0VmFsOiBEYXRhUHJvdmlkZXIpID0+IHtcbiAgY29uc3Qgc3RhdGVSZWYgPSB1c2VSZWYoaW5pdFZhbCk7XG4gIGNvbnN0IFtfLCBzZXRTdGF0ZV0gPSB1c2VTdGF0ZShpbml0VmFsKTtcblxuICByZXR1cm4ge1xuICAgIGdldERhdGE6ICgpID0+IHN0YXRlUmVmLmN1cnJlbnQsXG4gICAgc2V0RGF0YTogKG5ld1N0YXRlOiBEYXRhUHJvdmlkZXIpID0+IHtcbiAgICAgIHN0YXRlUmVmLmN1cnJlbnQgPSBuZXdTdGF0ZTtcbiAgICAgIHNldFN0YXRlKG5ld1N0YXRlKTtcbiAgICB9XG4gIH07XG59OyIsImltcG9ydCB7IHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyB1c2VEYXRhUHJvdmlkZXIgfSBmcm9tIFwiLi9EYXRhUHJvdmlkZXJcIjtcblxuLy8gcjE3XG4vLyAtIGFsbCBzZXRTdGF0ZSB3aWxsIGJlIGV4ZWN1dGVkIGltbWVkaWF0ZWx5XG4vLyByMTggY29tcGF0aWJsZSBtb2RlXG4vLyAtIHNldFN0YXRlIGluIHN5bmMgbW9kZSB3aWxsIGJlIGJhdGNoZWRcbi8vIC0gc2V0U3RhdGUgaW4gYXN5bmMgbW9kZSB3aWxsIGJlIGV4ZWN1dGVkIGltbWVkaWF0ZWx5XG4vLyByMTggY29uY3VycmVudCBtb2RlXG4vLyAtIGFsbCBzZXRTdGF0ZSB3aWxsIGJlIGJhdGNoZWRcblxuZXhwb3J0IGZ1bmN0aW9uIFNhbXBsZVYwKCkge1xuICBjb25zdCB7IGdldERhdGEsIHNldERhdGEgfSA9IHVzZURhdGFQcm92aWRlcih7IHNlbGVjdGVkOiA2IH0pO1xuICBjb25zdCBbc2VsZWN0ZWQsIHNldFNlbGVjdGVkXSA9IHVzZVN0YXRlKGdldERhdGEoKS5zZWxlY3RlZCk7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2PlxuICAgICAgPGgzPlNhbXBsZSBWMCAoTm8gZml4LCBzaG93IHRoZSBzeW1wdG9tKTwvaDM+XG4gICAgICA8ZGl2PkN1cnJlbnQgc2VsZWN0aW9uIChieSBzdGF0ZSk6IHtnZXREYXRhKCkuc2VsZWN0ZWR9PC9kaXY+XG4gICAgICA8ZGl2PkN1cnJlbnQgc2VsZWN0aW9uIChieSBhY3Rpb24pOiB7c2VsZWN0ZWR9PC9kaXY+XG4gICAgICA8YnV0dG9uXG4gICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHNldERhdGEoeyBzZWxlY3RlZDogMCB9KTtcbiAgICAgICAgICAgIHNldFNlbGVjdGVkKGdldERhdGEoKS5zZWxlY3RlZCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH19XG4gICAgICA+XG4gICAgICAgIFNlbGVjdCBOb25lXG4gICAgICA8L2J1dHRvbj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgU2FtcGxlVjA7XG4iLCJpbXBvcnQgeyB1c2VSZWYsIHVzZUNhbGxiYWNrLCB1c2VFZmZlY3QgfSBmcm9tIFwicmVhY3RcIjtcblxuaW50ZXJmYWNlIEpvYiB7XG4gIHNjaGVkdWxlcklkOiBudW1iZXI7XG4gIGV4ZWN1dGU6IEZ1bmN0aW9uO1xuICB0eXBlOiBzdHJpbmc7XG4gIGNvbnRleHQ6IGFueTtcbiAgdW5zY2hlZHVsZTogRnVuY3Rpb247XG59XG5cbmV4cG9ydCBjb25zdCB1c2VTY2hlZHVsZXIgPSBmdW5jdGlvbiAodHlwZTogc3RyaW5nKSB7XG4gIGxldCBzY2hlZHVsZXJRdWV1ZVJlZmVyZW5jZSA9IHVzZVJlZihbXSBhcyBKb2JbXSk7XG4gIGNvbnN0IGdldFNjaGVkdWxlclF1ZXVlID0gKCkgPT4gc2NoZWR1bGVyUXVldWVSZWZlcmVuY2UuY3VycmVudDtcbiAgY29uc3Qgc2NoZWR1bGVQb3N0RGlzcGF0Y2hFdmVudHMgPSB1c2VDYWxsYmFjayhcbiAgICAoeyBleGVjdXRlLCBjb250ZXh0ID0ge30gfTogeyBleGVjdXRlOiBGdW5jdGlvbjsgY29udGV4dD86IGFueSB9KSA9PiB7XG4gICAgICBsZXQgbm90eVNjaGVkdWxlclF1ZXVlID0gZ2V0U2NoZWR1bGVyUXVldWUoKTtcbiAgICAgIGxldCBqb2JJZCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMDAwMCk7XG4gICAgICBjb25zdCBzY2hlZHVsZWRKb2I6IEpvYiA9IHtcbiAgICAgICAgc2NoZWR1bGVySWQ6IGpvYklkLFxuICAgICAgICBleGVjdXRlLFxuICAgICAgICB0eXBlLFxuICAgICAgICBjb250ZXh0LFxuICAgICAgICB1bnNjaGVkdWxlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgbGV0IGluZGV4ID0gbm90eVNjaGVkdWxlclF1ZXVlLmZpbmRJbmRleChcbiAgICAgICAgICAgIChldmVudDogSm9iKSA9PiBldmVudC5zY2hlZHVsZXJJZCA9PT0gdGhpcy5zY2hlZHVsZXJJZFxuICAgICAgICAgICk7XG4gICAgICAgICAgaW5kZXggIT09IC0xICYmIG5vdHlTY2hlZHVsZXJRdWV1ZS5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB9LFxuICAgICAgfTtcbiAgICAgIG5vdHlTY2hlZHVsZXJRdWV1ZS5wdXNoKHNjaGVkdWxlZEpvYik7XG4gICAgICBzY2hlZHVsZXJRdWV1ZVJlZmVyZW5jZS5jdXJyZW50ID0gbm90eVNjaGVkdWxlclF1ZXVlO1xuICAgICAgcmV0dXJuIHNjaGVkdWxlZEpvYjtcbiAgICB9LFxuICAgIFt0eXBlXVxuICApO1xuXG4gIHJldHVybiB7IHNjaGVkdWxlUG9zdERpc3BhdGNoRXZlbnRzLCBxdWV1ZTogZ2V0U2NoZWR1bGVyUXVldWUgfTtcbn07XG5cbmV4cG9ydCBjb25zdCB1c2VQcm9jZXNzSm9iUXVldWUgPSAoXG4gIGdldFNjaGVkdWxlclF1ZXVlOiAoKSA9PiBKb2JbXSxcbiAgdHlwZTogc3RyaW5nXG4pID0+IHtcbiAgY29uc3QgZm4gPSB1c2VDYWxsYmFjayhcbiAgICAodHlwZTogc3RyaW5nKSA9PiB7XG4gICAgICBjb25zdCBxdWV1ZSA9IGdldFNjaGVkdWxlclF1ZXVlKCk7XG4gICAgICBpZiAocXVldWUubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGxldCBqb2JzVG9VbnNjaGVkdWxlID0gcXVldWVcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZS50eXBlID09PSB0eXBlKVxuICAgICAgICAubWFwKChldmVudCkgPT4ge1xuICAgICAgICAgIGV2ZW50LmV4ZWN1dGUoKTtcbiAgICAgICAgICBjb25zb2xlLmxvZyhgdXNlUHJvY2Vzc0pvYlF1ZXVlOiBqb2IgJHtldmVudC5zY2hlZHVsZXJJZH0gZXhlY3V0ZWRgKTtcbiAgICAgICAgICByZXR1cm4gZXZlbnQ7XG4gICAgICAgIH0pO1xuICAgICAgam9ic1RvVW5zY2hlZHVsZS5mb3JFYWNoKChldmVudDogSm9iKSA9PiB7XG4gICAgICAgIGNvbnN0IHVuc2NoZWR1bGUgPSBldmVudC51bnNjaGVkdWxlLmJpbmQoZXZlbnQpO1xuICAgICAgICB1bnNjaGVkdWxlKCk7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIFtnZXRTY2hlZHVsZXJRdWV1ZV1cbiAgKTtcblxuICB1c2VFZmZlY3QoZnVuY3Rpb24gZXZlbnRQcm9jZXNzaW5nUXVldWUoKSB7XG4gICAgY29uc29sZS5sb2coYHVzZVByb2Nlc3NKb2JRdWV1ZTogRXhlY3V0aW5nIGpvYnMgZm9yICR7dHlwZX1gKTtcbiAgICBmbih0eXBlKTtcbiAgfSk7XG59O1xuIiwiaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgdXNlRGF0YVByb3ZpZGVyIH0gZnJvbSBcIi4vRGF0YVByb3ZpZGVyXCI7XG5pbXBvcnQgeyB1c2VQcm9jZXNzSm9iUXVldWUsIHVzZVNjaGVkdWxlciB9IGZyb20gXCIuL2xpYnMvdjFcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIFNhbXBsZVYxKCkge1xuICBjb25zdCB7IGdldERhdGEsIHNldERhdGEgfSA9IHVzZURhdGFQcm92aWRlcih7IHNlbGVjdGVkOiA2IH0pO1xuICBjb25zdCBbc2VsZWN0ZWQsIHNldFNlbGVjdGVkXSA9IHVzZVN0YXRlKGdldERhdGEoKS5zZWxlY3RlZCk7XG4gIGNvbnN0IHsgc2NoZWR1bGVQb3N0RGlzcGF0Y2hFdmVudHMsIHF1ZXVlIH0gPSB1c2VTY2hlZHVsZXIoXCJ0ZXN0XCIpO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiB7XG4gICAgICBpZiAoZ2V0RGF0YSgpLnNlbGVjdGVkID09PSAwKSB7XG4gICAgICAgIC8vIGlzc3VlIGZvciB2MTogdGhpcyBzY2hlZHVsZSB3aWxsIG5vdCBiZSBleGVjdXRlZFxuICAgICAgICBzY2hlZHVsZVBvc3REaXNwYXRjaEV2ZW50cyh7XG4gICAgICAgICAgZXhlY3V0ZTogKCkgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJKb2IgKHNjaGVkdWxlIGluIHVzZSBlZmZlY3QgcHJvbWlzZSkgZXhlY3V0ZWRcIik7XG4gICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sIFtnZXREYXRhKCkuc2VsZWN0ZWRdKTtcblxuICB1c2VQcm9jZXNzSm9iUXVldWUocXVldWUsIFwidGVzdFwiKTtcblxuICByZXR1cm4gKFxuICAgIDxkaXY+XG4gICAgICA8aDM+U2FtcGxlIFYxIChieSBEZWZlckpvYlF1ZXVlIFBvbHlmaWxsKTwvaDM+XG4gICAgICA8ZGl2PkN1cnJlbnQgc2VsZWN0aW9uIChieSBzdGF0ZSk6IHtnZXREYXRhKCkuc2VsZWN0ZWR9PC9kaXY+XG4gICAgICA8ZGl2PkN1cnJlbnQgc2VsZWN0aW9uIChieSBhY3Rpb24pOiB7c2VsZWN0ZWR9PC9kaXY+XG4gICAgICA8YnV0dG9uXG4gICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICBQcm9taXNlLnJlc29sdmUoKVxuICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICBzZXREYXRhKHsgc2VsZWN0ZWQ6IDAgfSk7XG4gICAgICAgICAgICAgIHNjaGVkdWxlUG9zdERpc3BhdGNoRXZlbnRzKHtcbiAgICAgICAgICAgICAgICBleGVjdXRlOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICBzZXRTZWxlY3RlZChnZXREYXRhKCkuc2VsZWN0ZWQpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgcmV0dXJuIGZldGNoKFwiL1wiKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgIC8vIGlzc3VlIGZvciB2MTogdGhpcyBzY2hlZHVsZSB3aWxsIG5vdCBiZSBleGVjdXRlZFxuICAgICAgICAgICAgICBzY2hlZHVsZVBvc3REaXNwYXRjaEV2ZW50cyh7XG4gICAgICAgICAgICAgICAgZXhlY3V0ZTogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJKb2IgKHNjaGVkdWxlIGluIGFjdGlvbiBwcm9taXNlKSBleGVjdXRlZFwiKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgLy8gaXNzdWUgZm9yIHYxOiB0aGlzIHNjaGVkdWxlIHdpbGwgbm90IGJlIGV4ZWN1dGVkXG4gICAgICAgICAgc2V0VGltZW91dChcbiAgICAgICAgICAgICgpID0+XG4gICAgICAgICAgICAgIHNjaGVkdWxlUG9zdERpc3BhdGNoRXZlbnRzKHtcbiAgICAgICAgICAgICAgICBleGVjdXRlOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkpvYiAoc2NoZWR1bGUgaW4gYWN0aW9uIHNldFRpbWVvdXQpIGV4ZWN1dGVkXCIpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgMTAwXG4gICAgICAgICAgKTtcbiAgICAgICAgfX1cbiAgICAgID5cbiAgICAgICAgU2VsZWN0IE5vbmVcbiAgICAgIDwvYnV0dG9uPlxuICAgIDwvZGl2PlxuICApO1xufVxuXG5leHBvcnQgZGVmYXVsdCBTYW1wbGVWMTtcbiIsImltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlQ2FsbGJhY2sgfSBmcm9tIFwicmVhY3RcIjtcblxuaW50ZXJmYWNlIEpvYiB7XG4gIGV4ZWN1dGU6IEZ1bmN0aW9uO1xuICBqb2JJZD86IG51bWJlcjtcbn1cblxuLyoqXG4gKiBBIGhvb2sgdG8gZGVmZXIgdGFza3MgdW50aWwgdGhlIG5leHQgc3RhdGUgdXBkYXRlLlxuICpcbiAqIC0gVGFza3MgY2FuIGJlIHN5bmMgb3IgYXN5bmMsIGJ1dCB0aGV5IHdpbGwgYmUgZXhlY3V0ZWQgaW4gdGhlIG5leHQgc3RhdGUgdXBkYXRlLlxuICogLSBUYXNrIGV4ZWN1dGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZCwgZXNwZWNpYWxseSBmb3IgdGFza3MgYWRkZWQgYXN5bmNocm9ub3VzbHkuXG4gKlxuICogTk9URTogTm90IGZvciBwcm9kdWN0aW9uIHVzZSBzaW5jZSB0aGUgQVBJIGlzIG5vdCBzdGFibGUuXG4gKlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBkZWZlciAtIEEgZnVuY3Rpb24gdG8gZGVmZXIgYSBjYWxsYmFjay5cbiAqL1xuZXhwb3J0IGNvbnN0IHVzZURlZmVySm9iUXVldWUgPSAoKSA9PiB7XG4gIGNvbnN0IHF1ZXVlUmVmID0gdXNlUmVmPEpvYltdPihbXSk7XG4gIGNvbnN0IFt0cmlnZ2VyLCB0cmlnZ2VyUmVuZGVyXSA9IHVzZVN0YXRlKDApOyAvLyBEdW1teSBzdGF0ZSB0byBmb3JjZSByZS1yZW5kZXJzXG5cbiAgLyoqXG4gICAqIEFkZHMgYSBjYWxsYmFjayB0byB0aGUgcXVldWUuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGpvYiAtIFRoZSBqb2IgdG8gZGVmZXIuXG4gICAqL1xuICBjb25zdCBhZGRKb2IgPSB1c2VDYWxsYmFjaygoam9iOiBKb2IpID0+IHtcbiAgICBxdWV1ZVJlZi5jdXJyZW50LnB1c2goam9iKTsgLy8gQWRkIHRvIHRoZSBxdWV1ZVxuICAgIHRyaWdnZXJSZW5kZXIoKHByZXYpID0+IHByZXYgKyAxKTsgLy8gVHJpZ2dlciBhIHN0YXRlIHVwZGF0ZSB0byBwcm9jZXNzIHRoZSBxdWV1ZVxuICB9LCBbXSk7XG5cbiAgLy8gVHJpZ2dlciBwcm9jZXNzaW5nIHdoZW4gdGhlIGR1bW15IHN0YXRlIGNoYW5nZXNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAocXVldWVSZWYuY3VycmVudC5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCBjdXJyZW50UXVldWUgPSBbLi4ucXVldWVSZWYuY3VycmVudF07XG4gICAgICBxdWV1ZVJlZi5jdXJyZW50ID0gW107IC8vIENsZWFyIHRoZSBxdWV1ZSBiZWZvcmUgcHJvY2Vzc2luZ1xuXG4gICAgICBjdXJyZW50UXVldWUuZm9yRWFjaCgoam9iKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgam9iLmV4ZWN1dGUoKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFwidXNlRGVmZXJyZWRFZmZlY3Q6IEVycm9yIGV4ZWN1dGluZyBqb2I6XCIsIGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9LCBbdHJpZ2dlcl0pO1xuXG4gIHJldHVybiB7IGRlZmVyOiBhZGRKb2IgfTtcbn07XG5cbi8qKlxuICogTk9URTogdGhpcyB2ZXJzaW9uIGhhcyBwb3NzaWJpbGl0eSB0byBmYWlsIGluIHJlYWN0LlxuICogSW4gb25lIG9mIHRoZSByZWFjdDE4IGNvbXBhdGlibGUgbW9kZSBwcmFjdGljZSwgc29tZWhvd1xuICogYWRkSm9iLCB3aGljaCBpcyBzZXRKb2JRdWV1ZShbLi4ucHJldlF1ZXVlLCBqb2JdKSwgd2lsbFxuICogdHJpZ2dlciB0aGUgdXNlRWZmZWN0IGluIHN5bmMsIGFuZCBpdCB3aWxsIHRyaWdnZXIgdGhlXG4gKiBzZXRKb2JRdWV1ZShbXSkuIFRoZSBqb2IgZ2V0IGxvc3QgZHVyaW5nIHRoZSBzY2VuYXJpby5cbiAqXG4gKlxuICogQSBob29rIHRvIGRlZmVyIHRhc2tzIHVudGlsIG5leHQgc3RhdGUgdXBkYXRlLlxuICpcbiAqIC0gVGFzayBjb3VsZCBiZSBzeW5jIG9yIGFzeW5jLCBidXQgaXQgd2lsbCBiZSBqdXN0IHNpbXBseSB0cmlnZ2VyZWQuXG4gKiAtIFRhc2sgY291bGQgYmUgYWRkZWQgYnkgc3luYyBvciBhc3luYywgYnV0IGl0IHdpbGwgYmUgZXhlY3V0ZWQgaW4gdGhlIG5leHQgc3RhdGUgdXBkYXRlLCBhbmQgdGhlIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkIGVzcGVjaWFsbHkgZm9yIHRoZSB0YXNrIGFkZGVkIGJ5IGFzeW5jLlxuICpcbiAqIE5PVEU6IE5vdCBmb3IgcHJvZHVjdGlvbiB1c2Ugc2luY2UgQVBJIGlzIG5vdCBzdGFibGUuXG4gKlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBkZWZlciAtIEEgZnVuY3Rpb24gdG8gZGVmZXIgYSBjYWxsYmFjay5cbiAqL1xuZXhwb3J0IGNvbnN0IHVzZURlZmVySm9iUXVldWVMZWdhY3kgPSAoKSA9PiB7XG4gIGNvbnN0IFtqb2JRdWV1ZSwgc2V0Sm9iUXVldWVdID0gdXNlU3RhdGUoW10gYXMgSm9iW10pO1xuXG4gIC8qKlxuICAgKiBBZGRzIGEgY2FsbGJhY2sgdG8gdGhlIHF1ZXVlLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAtIFRoZSBjYWxsYmFjayBmdW5jdGlvbiB0byBkZWZlci5cbiAgICovXG4gIGNvbnN0IGFkZEpvYiA9IHVzZUNhbGxiYWNrKChqb2I6IEpvYikgPT4ge1xuICAgIHNldEpvYlF1ZXVlKChwcmV2UXVldWUpID0+IFsuLi5wcmV2UXVldWUsIGpvYl0pO1xuICB9LCBbXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoam9iUXVldWUubGVuZ3RoID4gMCkge1xuICAgICAgam9iUXVldWUuZm9yRWFjaCgoam9iKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgam9iLmV4ZWN1dGUoKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFwidXNlRGVmZXJyZWRFZmZlY3Q6IEVycm9yIGV4ZWN1dGluZyBjYWxsYmFjazpcIiwgZXJyb3IpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHNldEpvYlF1ZXVlKFtdKTsgLy8gQ2xlYXIgdGhlIHF1ZXVlIGFmdGVyIGV4ZWN1dGlvblxuICAgIH1cbiAgfSwgW2pvYlF1ZXVlXSk7XG5cbiAgcmV0dXJuIHsgZGVmZXI6IGFkZEpvYiB9O1xufTtcbiIsImltcG9ydCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHVzZURhdGFQcm92aWRlciB9IGZyb20gXCIuL0RhdGFQcm92aWRlclwiO1xuaW1wb3J0IHsgdXNlRGVmZXJKb2JRdWV1ZSB9IGZyb20gXCIuL2xpYnMvdjJcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIFNhbXBsZVYyKCkge1xuICBjb25zdCB7IGdldERhdGEsIHNldERhdGEgfSA9IHVzZURhdGFQcm92aWRlcih7IHNlbGVjdGVkOiA2IH0pO1xuICBjb25zdCBbc2VsZWN0ZWQsIHNldFNlbGVjdGVkXSA9IHVzZVN0YXRlKGdldERhdGEoKS5zZWxlY3RlZCk7XG4gIGNvbnN0IHsgZGVmZXIgfSA9IHVzZURlZmVySm9iUXVldWUoKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4ge1xuICAgICAgaWYgKGdldERhdGEoKS5zZWxlY3RlZCA9PT0gMCkge1xuICAgICAgICAvLyBpc3N1ZSBmb3IgdjE6IHRoaXMgc2NoZWR1bGUgd2lsbCBub3QgYmUgZXhlY3V0ZWRcbiAgICAgICAgZGVmZXIoe1xuICAgICAgICAgIGV4ZWN1dGU6ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiSm9iIChzY2hlZHVsZSBpbiB1c2UgZWZmZWN0IHByb21pc2UpIGV4ZWN1dGVkXCIpO1xuICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9LCBbZ2V0RGF0YSgpLnNlbGVjdGVkXSk7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2PlxuICAgICAgPGgzPlNhbXBsZSBWMiAoYnkgZml4ZWQgRGVmZXJKb2JRdWV1ZSBQb2x5ZmlsbCk8L2gzPlxuICAgICAgPGRpdj5DdXJyZW50IHNlbGVjdGlvbiAoYnkgc3RhdGUpOiB7Z2V0RGF0YSgpLnNlbGVjdGVkfTwvZGl2PlxuICAgICAgPGRpdj5DdXJyZW50IHNlbGVjdGlvbiAoYnkgYWN0aW9uKToge3NlbGVjdGVkfTwvZGl2PlxuICAgICAgPGJ1dHRvblxuICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICBzZXREYXRhKHsgc2VsZWN0ZWQ6IDAgfSk7XG4gICAgICAgICAgICBkZWZlcih7XG4gICAgICAgICAgICAgIGV4ZWN1dGU6ICgpID0+IHtcbiAgICAgICAgICAgICAgICBzZXRTZWxlY3RlZChnZXREYXRhKCkuc2VsZWN0ZWQpO1xuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSlcbiAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gZmV0Y2goXCIvXCIpO1xuICAgICAgICAgIH0pLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICBkZWZlcih7XG4gICAgICAgICAgICAgICAgZXhlY3V0ZTogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJKb2IgKHNjaGVkdWxlIGluIGFjdGlvbiBwcm9taXNlKSBleGVjdXRlZFwiKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIHNldFRpbWVvdXQoXG4gICAgICAgICAgICAoKSA9PlxuICAgICAgICAgICAgICBkZWZlcih7XG4gICAgICAgICAgICAgICAgZXhlY3V0ZTogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJKb2IgKHNjaGVkdWxlIGluIGFjdGlvbiBzZXRUaW1lb3V0KSBleGVjdXRlZFwiKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIDEwMFxuICAgICAgICAgICk7XG4gICAgICAgIH19XG4gICAgICA+XG4gICAgICAgIFNlbGVjdCBOb25lXG4gICAgICA8L2J1dHRvbj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgU2FtcGxlVjI7XG4iLCJpbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyB1c2VEYXRhUHJvdmlkZXIgfSBmcm9tIFwiLi9EYXRhUHJvdmlkZXJcIjtcbmltcG9ydCB7IHVzZUR5bmFtaWNFZmZlY3QgfSBmcm9tIFwiLi9saWJzL3YzXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBTYW1wbGVWMygpIHtcbiAgY29uc3QgeyBnZXREYXRhLCBzZXREYXRhIH0gPSB1c2VEYXRhUHJvdmlkZXIoeyBzZWxlY3RlZDogNiB9KTtcbiAgY29uc3QgW3NlbGVjdGVkLCBzZXRTZWxlY3RlZF0gPSB1c2VTdGF0ZShnZXREYXRhKCkuc2VsZWN0ZWQpO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0U2VsZWN0ZWQoZ2V0RGF0YSgpLnNlbGVjdGVkKTtcbiAgfSwgW2dldERhdGFdKTtcblxuICByZXR1cm4gKFxuICAgIDxkaXY+XG4gICAgICA8aDM+U2FtcGxlIFYzIChieSBzdGF0ZSB1cGRhdGUpPC9oMz5cbiAgICAgIDxkaXY+Q3VycmVudCBzZWxlY3Rpb24gKGJ5IHN0YXRlKToge2dldERhdGEoKS5zZWxlY3RlZH08L2Rpdj5cbiAgICAgIDxkaXY+Q3VycmVudCBzZWxlY3Rpb24gKGJ5IGFjdGlvbik6IHtzZWxlY3RlZH08L2Rpdj5cbiAgICAgIDxidXR0b25cbiAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgc2V0RGF0YSh7IHNlbGVjdGVkOiAwIH0pO1xuICAgICAgICAgICAgLy8gc2V0U2VsZWN0ZWQoZ2V0RGF0YSgpLnNlbGVjdGVkKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfX1cbiAgICAgID5cbiAgICAgICAgU2VsZWN0IE5vbmVcbiAgICAgIDwvYnV0dG9uPlxuICAgIDwvZGl2PlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gU2FtcGxlVjNIaWdoT3JkZXJWZXJzaW9uKCkge1xuICBjb25zdCB7IGdldERhdGEsIHNldERhdGEgfSA9IHVzZURhdGFQcm92aWRlcih7IHNlbGVjdGVkOiA2IH0pO1xuICBjb25zdCBbc2VsZWN0ZWQsIHNldFNlbGVjdGVkXSA9IHVzZVN0YXRlKGdldERhdGEoKS5zZWxlY3RlZCk7XG4gIGNvbnN0IHsgYWRkRWZmZWN0LCByZW1vdmVFZmZlY3QgfSA9IHVzZUR5bmFtaWNFZmZlY3QoKTtcblxuICByZXR1cm4gKFxuICAgIDxkaXY+XG4gICAgICA8aDM+U2FtcGxlIFYzIChieSBzdGF0ZSB1cGRhdGUpPC9oMz5cbiAgICAgIDxkaXY+Q3VycmVudCBzZWxlY3Rpb24gKGJ5IHN0YXRlKToge2dldERhdGEoKS5zZWxlY3RlZH08L2Rpdj5cbiAgICAgIDxkaXY+Q3VycmVudCBzZWxlY3Rpb24gKGJ5IGFjdGlvbik6IHtzZWxlY3RlZH08L2Rpdj5cbiAgICAgIDxidXR0b25cbiAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgc2V0RGF0YSh7IHNlbGVjdGVkOiAwIH0pO1xuICAgICAgICAgICAgLy8gTk9URTogdGhpcyBpcyBqdXN0IGZvciBtaW1pYyB2MiBiZWhhdmlvciwgaXQgaXMgbm90IHRoZSBpZGVhbCBzb2x1dGlvblxuICAgICAgICAgICAgLy8gaWYgd2UgcmVhbGx5IG5lZWQgaGlnaCBvcmRlciB2ZXJzaW9uLCB3ZSBzaG91bGQgZG8gaXQgYXQgaW5pdGlhbGl6YXRpb24gYnkganVzdCBvbmUgdGltZS5cbiAgICAgICAgICAgIC8vIDk5JSBvZiB0aGUgdGltZSwgd2UgZG9uJ3QgbmVlZCB0byBkbyB0aGlzLlxuICAgICAgICAgICAgY29uc3QgZWZmZWN0ID0gYWRkRWZmZWN0KCgpID0+IHtcbiAgICAgICAgICAgICAgc2V0U2VsZWN0ZWQoZ2V0RGF0YSgpLnNlbGVjdGVkKTtcbiAgICAgICAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgICAgICByZW1vdmVFZmZlY3QoZWZmZWN0KTtcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0sIFtnZXREYXRhXSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH19XG4gICAgICA+XG4gICAgICAgIFNlbGVjdCBOb25lXG4gICAgICA8L2J1dHRvbj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgU2FtcGxlVjM7IiwiaW1wb3J0IHsgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgRGF0YVByb3ZpZGVyIH0gZnJvbSBcIi4uL0RhdGFQcm92aWRlclwiO1xuXG4vKipcbiAqIFNpbXBsaWZpZWQgdmVyc2lvbiBvZiBEYXRhUHJvdmlkZXIgc3RhdGVcbiAqIFxuICogQHBhcmFtIGluaXRWYWwgaW5pdGlhbCBzdGF0ZVxuICogQHJldHVybnMgZ2V0RGF0YSBhbmQgc2V0RGF0YSBmdW5jdGlvbnNcbiAqL1xuZXhwb3J0IGNvbnN0IHVzZURhdGFQcm92aWRlciA9IChpbml0VmFsOiBEYXRhUHJvdmlkZXIpID0+IHtcbiAgY29uc3Qgc3RhdGVSZWYgPSB1c2VSZWYoaW5pdFZhbCk7XG4gIGNvbnN0IFtfLCBzZXRTdGF0ZV0gPSB1c2VTdGF0ZShpbml0VmFsKTtcblxuICByZXR1cm4ge1xuICAgIGdldERhdGE6ICgpID0+IHN0YXRlUmVmLmN1cnJlbnQsXG4gICAgc2V0RGF0YTogKG5ld1N0YXRlOiBEYXRhUHJvdmlkZXIpID0+IHtcbiAgICAgIHN0YXRlUmVmLmN1cnJlbnQgPSBuZXdTdGF0ZTtcbiAgICAgIHNldFN0YXRlKG5ld1N0YXRlKTtcbiAgICB9XG4gIH07XG59OyIsImltcG9ydCB7IHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyB1c2VEYXRhUHJvdmlkZXIgfSBmcm9tIFwiLi9saWJzL3Y0XCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBTYW1wbGVWNCgpIHtcbiAgY29uc3QgeyBnZXREYXRhLCBzZXREYXRhIH0gPSB1c2VEYXRhUHJvdmlkZXIoeyBzZWxlY3RlZDogNiB9KTtcbiAgY29uc3QgW3NlbGVjdGVkLCBzZXRTZWxlY3RlZF0gPSB1c2VTdGF0ZShnZXREYXRhKCkuc2VsZWN0ZWQpO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdj5cbiAgICAgIDxoMz5TYW1wbGUgVjQgKGJ5IGFnbm9zdGljIHN0YXRlKTwvaDM+XG4gICAgICA8ZGl2PkN1cnJlbnQgc2VsZWN0aW9uIChieSBzdGF0ZSk6IHtnZXREYXRhKCkuc2VsZWN0ZWR9PC9kaXY+XG4gICAgICA8ZGl2PkN1cnJlbnQgc2VsZWN0aW9uIChieSBhY3Rpb24pOiB7c2VsZWN0ZWR9PC9kaXY+XG4gICAgICA8YnV0dG9uXG4gICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHNldERhdGEoeyBzZWxlY3RlZDogMCB9KTtcbiAgICAgICAgICAgIHNldFNlbGVjdGVkKGdldERhdGEoKS5zZWxlY3RlZCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH19XG4gICAgICA+XG4gICAgICAgIFNlbGVjdCBOb25lXG4gICAgICA8L2J1dHRvbj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgU2FtcGxlVjQ7XG4iLCJpbXBvcnQgUmVhY3RET01DbGllbnQgZnJvbSBcInJlYWN0LWRvbS9jbGllbnRcIjtcbmltcG9ydCBSZWFjdERPTSBmcm9tIFwicmVhY3QtZG9tXCI7XG5pbXBvcnQgeyB1c2VTdGF0ZSwgY3JlYXRlRWxlbWVudCB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgUmFkaW9CdXR0b25Hcm91cCB9IGZyb20gXCIuL2JhdGNoL1JhZGlvQnV0dG9uR3JvdXBcIjtcbmltcG9ydCB7IFNhbXBsZVYwIH0gZnJvbSBcIi4vYmF0Y2gvU2FtcGxlVjBcIjtcbmltcG9ydCB7IFNhbXBsZVYxIH0gZnJvbSBcIi4vYmF0Y2gvU2FtcGxlVjFcIjtcbmltcG9ydCB7IFNhbXBsZVYyIH0gZnJvbSBcIi4vYmF0Y2gvU2FtcGxlVjJcIjtcbmltcG9ydCB7IFNhbXBsZVYzIH0gZnJvbSBcIi4vYmF0Y2gvU2FtcGxlVjNcIjtcbmltcG9ydCB7IFNhbXBsZVY0IH0gZnJvbSBcIi4vYmF0Y2gvU2FtcGxlVjRcIjtcblxuY29uc3QgUjE4X0JBVENIX1NBTVBMRV9MT0FERVIgPSBcInIxOC1iYXRjaC1zYW1wbGUtbG9hZGVyLWVsZW1lbnRcIjtcblxuZnVuY3Rpb24gUjE4QmF0Y2hTYW1wbGUoKSB7XG4gIGNvbnN0IFt2ZXJzaW9uLCBzZXRWZXJzaW9uXSA9IHVzZVN0YXRlKFwiVjBcIik7XG4gIHJldHVybiAoXG4gICAgPGRpdj5cbiAgICAgIDxoMT5SZWFjdDE4IEJhdGNoIEFkanVzdG1lbnQgU2FtcGxlPC9oMT5cbiAgICAgIDxSYWRpb0J1dHRvbkdyb3VwXG4gICAgICAgIG9wdGlvbnM9e1tcIlYwXCIsIFwiVjFcIiwgXCJWMlwiLCBcIlYzXCIsIFwiVjRcIl19XG4gICAgICAgIG9uQ2hhbmdlPXsodjogc3RyaW5nKSA9PiBzZXRWZXJzaW9uKHYpfVxuICAgICAgLz5cbiAgICAgIHt2ZXJzaW9uID09PSBcIlYwXCIgJiYgPFNhbXBsZVYwIC8+fVxuICAgICAge3ZlcnNpb24gPT09IFwiVjFcIiAmJiA8U2FtcGxlVjEgLz59XG4gICAgICB7dmVyc2lvbiA9PT0gXCJWMlwiICYmIDxTYW1wbGVWMiAvPn1cbiAgICAgIHt2ZXJzaW9uID09PSBcIlYzXCIgJiYgPFNhbXBsZVYzIC8+fVxuICAgICAge3ZlcnNpb24gPT09IFwiVjRcIiAmJiA8U2FtcGxlVjQgLz59XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbi8vIGN1c3RvbSBlbGVtZW50IGxvYWRlciB0byBzdXBwb3J0IHN3aXRjaGluZyBiZXR3ZWVuIGNvbXBhdGlibGUgbW9kZSBhbmQgY29uY3VycmVudCBtb2RlXG5jdXN0b21FbGVtZW50cy5kZWZpbmUoUjE4X0JBVENIX1NBTVBMRV9MT0FERVIsIGNsYXNzIGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuICBwcml2YXRlIF9yb290OiBSZWFjdERPTUNsaWVudC5Sb290IHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgX3JlYWN0Um9vdEVsZW06IEhUTUxEaXZFbGVtZW50IHwgbnVsbCA9IG51bGw7XG5cbiAgX3VubW91bnRSZWFjdENvbXBvbmVudCgpIHtcbiAgICBpZiAodGhpcy5fcm9vdCkge1xuICAgICAgdGhpcy5fcm9vdC51bm1vdW50KCk7XG4gICAgICB0aGlzLl9yb290ID0gbnVsbDtcbiAgICB9IGVsc2Uge1xuICAgICAgUmVhY3RET00udW5tb3VudENvbXBvbmVudEF0Tm9kZSh0aGlzLl9yZWFjdFJvb3RFbGVtISk7XG4gICAgfVxuICB9XG5cbiAgX21vdW50UmVhY3RDb21wb25lbnQoY29tcGF0aWJsZU1vZGU6IGJvb2xlYW4pIHtcbiAgICBpZiAoY29tcGF0aWJsZU1vZGUpIHtcbiAgICAgIFJlYWN0RE9NLnJlbmRlcihcbiAgICAgICAgY3JlYXRlRWxlbWVudChSMThCYXRjaFNhbXBsZSksXG4gICAgICAgIHRoaXMuX3JlYWN0Um9vdEVsZW0hXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9yb290ID0gUmVhY3RET01DbGllbnQuY3JlYXRlUm9vdCh0aGlzLl9yZWFjdFJvb3RFbGVtISk7XG4gICAgICB0aGlzLl9yb290LnJlbmRlcihjcmVhdGVFbGVtZW50KFIxOEJhdGNoU2FtcGxlKSk7XG4gICAgfVxuICB9XG5cbiAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgLy8gQ3JlYXRlIG1vZGUgb3B0aW9uIGNoZWNrIGJveFxuICAgIGNvbnN0IG1vZGVPcHRpb25FbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICAgIG1vZGVPcHRpb25FbGVtLnR5cGUgPSBcImNoZWNrYm94XCI7XG4gICAgbW9kZU9wdGlvbkVsZW0uY2hlY2tlZCA9IGZhbHNlO1xuICAgIG1vZGVPcHRpb25FbGVtLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5fdW5tb3VudFJlYWN0Q29tcG9uZW50KCk7XG4gICAgICB0aGlzLl9tb3VudFJlYWN0Q29tcG9uZW50KG1vZGVPcHRpb25FbGVtLmNoZWNrZWQpO1xuICAgIH0pO1xuICAgIHRoaXMuYXBwZW5kQ2hpbGQobW9kZU9wdGlvbkVsZW0pO1xuICAgIHRoaXMuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCJDb21wYXRpYmxlIE1vZGVcIikpO1xuXG4gICAgLy8gQ3JlYXRlIHJlYWN0IHJvb3QgZWxlbWVudFxuICAgIGNvbnN0IHJlYWN0Um9vdEVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIHRoaXMuYXBwZW5kQ2hpbGQocmVhY3RSb290RWxlbSk7XG4gICAgdGhpcy5fcmVhY3RSb290RWxlbSA9IHJlYWN0Um9vdEVsZW07XG5cbiAgICAvLyBNb3VudCByZWFjdCBjb21wb25lbnRcbiAgICB0aGlzLl9tb3VudFJlYWN0Q29tcG9uZW50KGZhbHNlKTtcbiAgfVxuXG4gIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIHRoaXMuX3VubW91bnRSZWFjdENvbXBvbmVudCgpO1xuICAgIHRoaXMuX3JlYWN0Um9vdEVsZW0gPSBudWxsO1xuICAgIHRoaXMuX3Jvb3QgPSBudWxsO1xuICB9XG59KTtcblxuLy8gcmVhY3QgbG9hZGVyXG5mdW5jdGlvbiBSMThCYXRjaFNhbXBsZVBhZ2UoKSB7XG4gIHJldHVybiBjcmVhdGVFbGVtZW50KFIxOF9CQVRDSF9TQU1QTEVfTE9BREVSKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgUjE4QmF0Y2hTYW1wbGVQYWdlOyJdLCJuYW1lcyI6WyJSYWRpb0J1dHRvbkdyb3VwIiwib3B0aW9ucyIsIm9uQ2hhbmdlIiwic2VsZWN0ZWQiLCJzZXRTZWxlY3RlZCIsInVzZVN0YXRlIiwib3B0aW9uIiwianN4IiwiZXYiLCJ1c2VEYXRhUHJvdmlkZXIiLCJpbml0VmFsIiwic3RhdGVSZWYiLCJ1c2VSZWYiLCJzdGF0ZSIsInNldFN0YXRlIiwiU2FtcGxlVjAiLCJnZXREYXRhIiwic2V0RGF0YSIsInVzZVNjaGVkdWxlciIsInR5cGUiLCJzY2hlZHVsZXJRdWV1ZVJlZmVyZW5jZSIsImdldFNjaGVkdWxlclF1ZXVlIiwidXNlQ2FsbGJhY2siLCJleGVjdXRlIiwiY29udGV4dCIsIm5vdHlTY2hlZHVsZXJRdWV1ZSIsInNjaGVkdWxlZEpvYiIsImluZGV4IiwiZXZlbnQiLCJ1c2VQcm9jZXNzSm9iUXVldWUiLCJmbiIsInF1ZXVlIiwiZSIsInVzZUVmZmVjdCIsIlNhbXBsZVYxIiwic2NoZWR1bGVQb3N0RGlzcGF0Y2hFdmVudHMiLCJ1c2VEZWZlckpvYlF1ZXVlIiwicXVldWVSZWYiLCJ0cmlnZ2VyIiwidHJpZ2dlclJlbmRlciIsImFkZEpvYiIsImpvYiIsInByZXYiLCJjdXJyZW50UXVldWUiLCJlcnJvciIsIlNhbXBsZVYyIiwiZGVmZXIiLCJTYW1wbGVWMyIsIl8iLCJuZXdTdGF0ZSIsIlNhbXBsZVY0IiwiUjE4X0JBVENIX1NBTVBMRV9MT0FERVIiLCJSMThCYXRjaFNhbXBsZSIsInZlcnNpb24iLCJzZXRWZXJzaW9uIiwidiIsIl9fcHVibGljRmllbGQiLCJSZWFjdERPTSIsImNvbXBhdGlibGVNb2RlIiwiY3JlYXRlRWxlbWVudCIsIlJlYWN0RE9NQ2xpZW50IiwibW9kZU9w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
